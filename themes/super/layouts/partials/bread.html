<!-- layouts/partials/breadcrumbs.html -->
<nav aria-label="breadcrumb" class="mb-4">
  <ol class="flex flex-wrap text-sm text-gray-600">
    {{ $url := replace .RelPermalink (printf "/%s/" .Language.Lang) "/" }}
    {{ $lastUrlElement := index (last 1 (split (trim $url "/") "/")) 0 }}
    
    <!-- Home link -->
    <li class="breadcrumb-item">
      <a href="{{ .Site.Home.RelPermalink }}" class="hover:text-blue-600">
        Home
      </a>
      <span class="px-2">></span>
    </li>
    
    <!-- Build breadcrumbs based on URL path -->
    {{ $pathElements := split (trim $url "/") "/" }}
    {{ $currentPath := "/" }}
    
    {{ range $index, $element := $pathElements }}
      {{ $currentPath = printf "%s%s/" $currentPath $element }}
      {{ if ne $element $lastUrlElement }}
        <li class="breadcrumb-item">
          <a href="{{ $currentPath | relLangURL }}" class="dark:text-gray-200 hover:text-blue-600">
            {{ humanize $element }}
          </a>
          <span class="px-2">></span>
        </li>
      {{ else }}
        <li class="breadcrumb-item text-gray-900 font-medium dark:text-gray-200">
          {{ humanize $element }}
        </li>
      {{ end }}
    {{ end }}
  </ol>
</nav>


    <div id="breadcrumbs" class="text-gray-700 mb-4" style="text-decoration: none;">
      <small>
          {{- range .Ancestors.Reverse }}
            {{ if .Params.linkTitle }}
              <a href="{{ .RelPermalink }}">{{ .Params.linkTitle }}</a> /
            {{- else }}
              <a href="{{ .RelPermalink }}">{{ .Params.title }}</a> /          
            {{- end }}
          {{- end }}

          {{ if .Params.linkTitle }}
            <a href="{{ .RelPermalink }}">{{ .Params.linkTitle }}</a> /
          {{- else }}
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
          {{- end }}          

      </small>
    </div>